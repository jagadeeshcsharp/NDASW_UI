<div class="session-list" [class.collapsed]="collapsed">
  <div class="sidebar-content">
    <div class="top-section">
      <button class="nav-item new-chat-item" (click)="createNewSession()" [title]="collapsed ? 'New Chat' : ''">
        <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
        <span class="nav-text" *ngIf="!collapsed">New chat</span>
      </button>
    </div>

    <div class="your-chats-section" *ngIf="!collapsed">
      <div class="section-heading">Your chats</div>
      <div class="sessions">
        <div
          *ngFor="let session of sessions$ | async"
          class="session-item"
          [class.active]="(currentSession$ | async)?.id === session.id"
          (click)="selectSession(session)"
        >
          <div class="session-content">
            <div class="session-title">{{ session.title }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="bottom-section">
      <div class="user-card">
        <div class="user-avatar">{{ getInitials() }}</div>
        <div class="user-info" *ngIf="!collapsed">
          <div class="user-name">{{userName}}</div>
          <div class="user-email">{{userEmail}}</div>
        </div>
        <button class="sidebar-toggle-btn" (click)="onToggleSidebar()" [title]="collapsed ? 'Open sidebar' : 'Close sidebar'">
          <svg *ngIf="!collapsed" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
          <svg *ngIf="collapsed" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

